quest-footer-height = 32px
article-padding-bottom = quest-footer-height + 12
submit-button-width = 50px

.quests
	padding-top 15px

	& > div
		display inline-table
		table-layout fixed // fix for firefox
		width 50%
		@media (max-width: hide-nav-menu + 230px)
			width 100%

	article
		position relative
		margin 0 10px 20px
		overflow hidden

		padding-bottom article-padding-bottom

		background-color #f4f4f4
		border-radius 4px

		min-height 125px
		max-height 125px
		transition max-height .5s cubic-bezier(0, 1.1, 0, 1) // хитрый способ починить анимацию max-height (1)

	img
		max-width 100%

	h4
		position relative
		margin 0
		margin-left 17px
		padding-top 15px
		color link-color
		font-weight light
		letter-spacing -.03rem
		line-height 1
		&:after
			margin-left 10px
			content attr(data-author)
			color #c0c5ce
		&:before
			content attr(data-info)
			position absolute
			font-weight bold
			font-size 12px
			letter-spacing .02rem
			bottom -15px
			left 10px
			color #0e775f
	sup
		top -.9em
		left .2em
		font-size 12px
		color #0e775f

	.quest__text
		padding 14px 29px 0
		margin 0
		font-size 21px
		line-height 1.5
	mark
		background-color main-dark-bg
		color link-color
		border-radius 7px

	footer
		position absolute
		height quest-footer-height
		width 100%
		background-color #e4e4e4
		bottom 0
		.footer-right
			position relative
			height quest-footer-height
			margin-left 100%
			transition margin-left .5s easeInOutBack
			background-color #e4e4e4

	input
		outline none
		padding 0 10px
		border 0
		height 100%
		float left
		font-size 12px
		width "calc(100% - %s)" % (submit-button-width + 20) // 20 - это паддинг справа и слева
		background-color transparent

	arrow-up-width = 55px
	.opened
		transition max-height 5s // хитрый способ починить анимацию max-height (2)
		animation surge .5s
		max-height 4000px // хитрый способ починить анимацию max-height (3)
		footer:before
			opacity 0
		.footer-arrow svg
			transform rotate(.5turn) scale(.7)
			margin-left 0
		.footer-right
			margin-left arrow-up-width
		.footer-arrow
			width arrow-up-width

.submit-quest
	cursor pointer
	float left
	right 0
	width submit-button-width
	height 100%

.footer-arrow
	cursor pointer
	float left
	height 100%
	width 100%
	transition width .3s, background .3s
	svg
		transition transform .6s easeInOutBack, margin-left .6s easeInOutBack
		position absolute
		padding 0 10px
		width 35px
		height 100%
		margin-left "calc(50% - %s)" % (@width / 2)
	&:hover
		animation shake 2s infinite

@keyframes surge
	from
		padding-bottom article-padding-bottom
	50%
		padding-bottom article-padding-bottom + 5
	to
		padding-bottom article-padding-bottom

@keyframes shake {
	80%, 90% {
		transform: translateX(-2px);
	}
	85%, 95% {
		transform: translateX(2px);
	}
	75%, 100% {
		transform: translateX(0);
	}
}
